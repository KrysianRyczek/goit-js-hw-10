{"version":3,"file":"01-timer-e44c9290.js","sources":["../../src/js/01-timer.js"],"sourcesContent":["// Opisany w dokumentacji\nimport flatpickr from \"flatpickr\";\nimport iziToast from \"izitoast\";\n// Dodatkowy import stylÃ³w\nimport \"flatpickr/dist/flatpickr.min.css\";\n//import \"izitoast/dist/css/izitoast.min.css\";\nlet ms;\n\nfunction convertMs(ms) {\n    // Number of milliseconds per unit of time\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n  \n    // Remaining days\n    const days = Math.floor(ms / day);\n    // Remaining hours\n    const hours = Math.floor((ms % day) / hour);\n    // Remaining minutes\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    // Remaining seconds\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n  \n    return { days, hours, minutes, seconds };\n}\n  \nconst checkDate = (selectedDates)=>{\n    let date = new Date();\n    return selectedDates[0].getTime()-date.getTime()\n}\n\nconst options = {\n    \n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) { \n        ms = checkDate(selectedDates)\n        if (ms<=0) {\n            btn.disabled = true; \n            iziToast.error({\n                close: false,\n                position:'topCenter',\n                progressBar: false,\n                backgroundColor: 'red',\n                messageColor: 'white',\n                timeout: 5000,\n                message: 'Please choose a date in the future',\n                transitionOut:'fadeOutUp',\n            });\n            return \n        }\n        iziToast.destroy();\n        btn.disabled = false;   \n        return selectedDates[0]\n    },\n};\n\n\nconst btn = document.querySelector(\"#start\")\nconst days = document.querySelector(\"#days\")\nconst hours = document.querySelector(\"#hours\")\nconst minutes= document.querySelector(\"#minutes\")\nconst seconds = document.querySelector(\"#seconds\")\n\nconst fp = document.querySelector(\"#dateSelector\").flatpickr(options)\n\nbtn.disabled = true; \n\nbtn.addEventListener(\"click\", event=>{\n\n    const setDownTime = () =>{\n        if (fp.selectedDates[0].getTime()-new Date().getTime()<0) {\n            days.textContent = \"00\"\n            hours.textContent = \"00\"\n            minutes.textContent = \"00\"\n            seconds.textContent = \"00\"\n            return clearInterval(interval)\n        }\n    \n        let timeDown = convertMs(fp.selectedDates[0].getTime()-new Date().getTime())\n        days.textContent = timeDown.days.toString().padStart(2, \"0\")\n        hours.textContent = timeDown.hours.toString().padStart(2, \"0\")\n        minutes.textContent = timeDown.minutes.toString().padStart(2, \"0\")\n        seconds.textContent = timeDown.seconds.toString().padStart(2, \"0\")\n    }\n\n    const interval = setInterval(setDownTime,500);   \n})\n\n\n\n\n"],"names":["ms","convertMs","days","hours","minutes","seconds","checkDate","selectedDates","date","options","btn","iziToast","fp","event","interval","timeDown"],"mappings":"yCAMA,IAAIA,EAEJ,SAASC,EAAUD,EAAI,CAQnB,MAAME,EAAO,KAAK,MAAMF,EAAK,KAAG,EAE1BG,EAAQ,KAAK,MAAOH,EAAK,MAAO,IAAI,EAEpCI,EAAU,KAAK,MAAQJ,EAAK,MAAO,KAAQ,GAAM,EAEjDK,EAAU,KAAK,MAASL,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAE,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC1C,CAEA,MAAMC,EAAaC,GAAgB,CAC/B,IAAIC,EAAO,IAAI,KACf,OAAOD,EAAc,CAAC,EAAE,QAAO,EAAGC,EAAK,QAAS,CACpD,EAEMC,EAAU,CAEZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQF,EAAe,CAEnB,GADAP,EAAKM,EAAUC,CAAa,EACxBP,GAAI,EAAG,CACPU,EAAI,SAAW,GACfC,EAAS,MAAM,CACX,MAAO,GACP,SAAS,YACT,YAAa,GACb,gBAAiB,MACjB,aAAc,QACd,QAAS,IACT,QAAS,qCACT,cAAc,WAC9B,CAAa,EACD,MACH,CACD,OAAAA,EAAS,QAAO,EAChBD,EAAI,SAAW,GACRH,EAAc,CAAC,CACzB,CACL,EAGMG,EAAM,SAAS,cAAc,QAAQ,EACrCR,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAS,SAAS,cAAc,UAAU,EAC1CC,EAAU,SAAS,cAAc,UAAU,EAE3CO,EAAK,SAAS,cAAc,eAAe,EAAE,UAAUH,CAAO,EAEpEC,EAAI,SAAW,GAEfA,EAAI,iBAAiB,QAASG,GAAO,CAkBjC,MAAMC,EAAW,YAhBG,IAAK,CACrB,GAAIF,EAAG,cAAc,CAAC,EAAE,UAAU,IAAI,KAAM,EAAC,QAAS,EAAC,EACnD,OAAAV,EAAK,YAAc,KACnBC,EAAM,YAAc,KACpBC,EAAQ,YAAc,KACtBC,EAAQ,YAAc,KACf,cAAcS,CAAQ,EAGjC,IAAIC,EAAWd,EAAUW,EAAG,cAAc,CAAC,EAAE,UAAU,IAAI,KAAM,EAAC,QAAO,CAAE,EAC3EV,EAAK,YAAca,EAAS,KAAK,SAAQ,EAAG,SAAS,EAAG,GAAG,EAC3DZ,EAAM,YAAcY,EAAS,MAAM,SAAQ,EAAG,SAAS,EAAG,GAAG,EAC7DX,EAAQ,YAAcW,EAAS,QAAQ,SAAQ,EAAG,SAAS,EAAG,GAAG,EACjEV,EAAQ,YAAcU,EAAS,QAAQ,SAAQ,EAAG,SAAS,EAAG,GAAG,CACpE,EAEwC,GAAG,CAChD,CAAC"}